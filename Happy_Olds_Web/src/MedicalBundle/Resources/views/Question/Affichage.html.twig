{% extends 'base.html.twig' %}
{% block body %}
    <link rel="stylesheet" href="../../bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<!-- /.row -->
<div class="row">
    <div class="col-xs-12">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">Liste des questions </h3>

                <div class="box-tools">
                    <form action="" method="post">
                        <div class="input-group input-group-sm" style="width: 150px;">


                            <input type="text" name="titre" class="form-control pull-right" placeholder="Search">

                            <div class="input-group-btn">
                                <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>

                            </div>


                        </div>
                    </form>

                </div>
            </div>
            <br>
            <br>
            <center>
            <div>
              {#  {% if user.roles=='agee' %}#}

                <a href="{{ path('medical_ajouter') }}" class="btn btn-danger btn-lg" style="display:inline-block;">Ajouter une question</a>  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
                <a href="{{ path('medical_historique') }}" class="btn btn-danger btn-lg"
                   style="display:inline-block;">Historique</a>
                {#{% endif %}#}

           {# <a href="{{ path('medical_ajouter') }}"> <input type="button" value="Ajouter une question" class="btn btn-block btn-danger btn-lg" style="width:14%"></a>  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
            <a href="{{ path('medical_historique') }}" ><input type="button" value="Historique" class="btn btn-block btn-danger btn-lg" style="width:8%"></a> #}
            </div>
            </center>
            <br>
            <br>

            <!-- /.box-header -->
            <div class="box-body">
                <table id="example1" class="table table-bordered table-striped">
                    <tr>
                        <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ knp_pagination_sortable(questions, 'Numéro', 'q.id') }}</font></font></th>
                        <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ knp_pagination_sortable(questions, 'Questions', 'q.titre') }}</font></font></th>
                        <th colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions</font></font></th>

                    </tr>
                    <tbody>
                    {% for i in questions %}

                        <tr>
                              <td> {{ i.getid() }} </td>
                               <td> {{ i.gettitre() }} </td>

                            {% if app.user.id == i.user.id%}

                            <td><a href="{{ path('medical_supprimer',{'id':i.id}) }}" class="glyphicon glyphicon-trash"> </a></td>
                            <td><a href="{{ path('medical_modifier',{'id':i.id}) }}" class="glyphicon glyphicon-pencil"></a></td>
                            <td><a href="{{ path('medical_detail',{'id':i.id}) }}" class="glyphicon glyphicon-zoom-in"> </a></td>
                            <td><a href="{{ path('medical_affiche',{'id':i.id}) }}" class="glyphicon glyphicon-plus"> </a></td>
                            {% else %}
                            <td><a href="{{ path('medical_detail',{'id':i.id}) }}" class="glyphicon glyphicon-zoom-in"> </a></td>
                            <td><a href="{{ path('medical_affiche',{'id':i.id}) }}" class="glyphicon glyphicon-plus"> </a></td>
                            {% endif %}

                        </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot>
                    <tr>
                        <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numéro</font></font></th>
                        <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Questions</font></font></th>
                        <th colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions</font></font></th>
                    </tr>
                    </tfoot>
                </table>
            </div>
            <div class="col-sm-5">
                <div class="dataTables_info" id="example2_info" role="status" aria-live="polite">{{ questions.getTotalItemCount }} Questions</div>
            </div>

            <!-- /.box-body -->
        </div>
        <div class="navigation" >
            <center>
                {{ knp_pagination_render(questions) }}
            </center>
        </div>
        <!-- /.box -->
    </div>
</div>
</section>
<!-- /.content -->
</div>
    <!-- DataTables -->
    <script src="../../bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../../bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <!-- page script -->
    <script>
        $(function () {
            $('#example1').DataTable()
            $('#example2').DataTable({
                'paging'      : true,
                'lengthChange': false,
                'searching'   : false,
                'ordering'    : true,
                'info'        : true,
                'autoWidth'   : false
            })
        })
    </script>
    <script>
        CKEDITOR.replace( 'editor1' );
    </script>
{% endblock %}





























{#<table border="2">
    <thead>
    <th> titre </th>
    <th colspan="4"> action </th>
    </thead>
    {% for i in tab %}

        <tr> <td> {{ i.gettitre() }} </td>
            <td><a href="{{ path('medical_supprimer',{'id':i.id}) }}" ><input type="button" value="Supprimer"></a></td>
            <td><a href="{{ path('medical_modifier',{'id':i.id}) }}" ><input type="button" value="Modifier"></a></td>
            <td><a href="{{ path('medical_detail',{'id':i.id}) }}" ><input type="button" value="Détails"></a></td>
            <td><a href="{{ path('medical_affiche',{'id':i.id}) }}" ><input type="button" value="Répondre"></a></td>
        </tr>
    {% endfor %}

</table>#}



